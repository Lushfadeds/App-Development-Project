{% extends "base.html" %}
{% block content %}
<link href="{{ url_for('static', filename='Inventory.css') }}" rel="stylesheet">
<main class="inventory-page">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="categories-section">
                <h2>Categories</h2>
                <ul>
                    <li><a href="?category=snacks">Traditional Snacks & Candy</a></li>
                    <li><a href="?category=desserts">Desserts</a></li>
                    <li><a href="?category=biscuits">Biscuits</a></li>
                    <li><a href="?category=beverages">Beverages</a></li>
                    <li><a href="?category=toys">Traditional Toys</a></li>
                    <li><a href="?category=decorations">Decorations</a></li>
                    <li><a href="?category=supplies">Catering Supplies</a></li>
                </ul>
            </div>

            <hr>

            <div class="filter-section">
                <h2>Sort</h2>
                <form method="get" action="/inventory">
                    <div class="filter-option">
                        <input type="checkbox" id="low_stock" name="filter" value="low_stock">
                        <label for="low_stock">Low Stock</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="in_stock" name="filter" value="in_stock">
                        <label for="in_stock">In Stock</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="out_of_stock" name="filter" value="out_of_stock">
                        <label for="out_of_stock">Out of Stock</label>
                    </div>
                    <button type="submit" class="filter-btn">Apply Filter</button>
                </form>
            </div>
        </aside>

        <!-- Main Content -->
        <section class="inventory-section">
            <div class="search-bar">
                <form method="get" action="/inventory">
                    <input type="text" name="search" placeholder="Search for items">
                    <button type="submit">Search</button>
                </form>
            </div>

            <div class="inventory-grid">
                {% if not items %}
                    <p>No items found for the selected category or filter.</p>
                {% else %}
                    {% for item in items %}
                    <div class="inventory-item {% if item.stock < 10 %}low-stock{% endif %}">
                        <h3>{{ item.name }}</h3>
                        <div class="stock-info">
                            <p>Stock QTY: {{ item.stock }}</p>
                        </div>
                        <a href="/edit/{{ item.id }}" class="edit-btn">Edit</a>
                    </div>
                    {% endfor %}
                {% endif %}
            </div>
        </section>
    </main>
{% endblock %}